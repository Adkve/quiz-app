<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz with Timer</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: auto; padding: 20px; background: #f9f9f9; }
    h1 { text-align: center; color: #2c3e50; }
    .question { margin-bottom: 20px; background: #fff; padding: 15px; border-left: 4px solid #3498db; border-radius: 5px; }
    .options label { display: block; margin: 5px 0; }
    #timer { font-size: 24px; color: #e74c3c; text-align: center; margin-bottom: 20px; font-weight: bold; }
    button { padding: 10px 20px; font-size: 16px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #2980b9; }
  </style>
</head>
<body>
  <h1>Online Quiz</h1>
  <div id="timer">Loading Timer...</div>

  <form id="quizForm">
    <div class="question">
      <p>1. What is 15 + 27?</p>
      <label><input type="radio" name="q1" value="a">32</label>
      <label><input type="radio" name="q1" value="b">42</label>
      <label><input type="radio" name="q1" value="c">52</label>
      <label><input type="radio" name="q1" value="d">62</label>
    </div>

    <div class="question">
      <p>2. What is 8 × 9?</p>
      <label><input type="radio" name="q2" value="a">72</label>
      <label><input type="radio" name="q2" value="b">81</label>
      <label><input type="radio" name="q2" value="c">63</label>
      <label><input type="radio" name="q2" value="d">56</label>
    </div>

    <div class="question">
      <p>31. Which planet is known as the Red Planet?</p>
      <label><input type="radio" name="q31" value="a">Venus</label>
      <label><input type="radio" name="q31" value="b">Mars</label>
      <label><input type="radio" name="q31" value="c">Jupiter</label>
      <label><input type="radio" name="q31" value="d">Saturn</label>
    </div>

    <div class="question">
      <p>32. What is H₂O?</p>
      <label><input type="radio" name="q32" value="a">Carbon Dioxide</label>
      <label><input type="radio" name="q32" value="b">Water</label>
      <label><input type="radio" name="q32" value="c">Salt</label>
      <label><input type="radio" name="q32" value="d">Oxygen</label>
    </div>

    <div class="question">
      <p>61. Who wrote 'Romeo and Juliet'?</p>
      <label><input type="radio" name="q61" value="a">Charles Dickens</label>
      <label><input type="radio" name="q61" value="b">William Shakespeare</label>
      <label><input type="radio" name="q61" value="c">Jane Austen</label>
      <label><input type="radio" name="q61" value="d">Mark Twain</label>
    </div>

    <div class="question">
      <p>62. What is the capital of France?</p>
      <label><input type="radio" name="q62" value="a">London</label>
      <label><input type="radio" name="q62" value="b">Berlin</label>
      <label><input type="radio" name="q62" value="c">Paris</label>
      <label><input type="radio" name="q62" value="d">Madrid</label>
    </div>

    <button type="button" onclick="submitQuiz()">Submit Quiz</button>
  </form>

  <script>
    // ✅ Correct Answers
    const correctAnswers = {
      q1: "b", q2: "a", q31: "b", q32: "b", q61: "b", q62: "c"
    };

    // ✅ Timer Logic (2 hours)
    let totalSeconds = 2 * 60 * 60;
    const timerDisplay = document.getElementById('timer');
    const timerInterval = setInterval(() => {
      if (totalSeconds <= 0) {
        clearInterval(timerInterval);
        submitQuiz();
        return;
      }
      const h = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
      const m = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
      const s = String(totalSeconds % 60).padStart(2, '0');
      timerDisplay.textContent = `Time Left: ${h}:${m}:${s}`;
      totalSeconds--;
    }, 1000);

    // ✅ Submit Quiz
    function submitQuiz() {
      clearInterval(timerInterval);
      const form = document.getElementById('quizForm');
      let total = 0, correct = 0;

      for (let key in correctAnswers) {
        const selected = form.querySelector(`input[name="${key}"]:checked`);
        if (selected) {
          if (selected.value === correctAnswers[key]) {
            total += 1;
            correct++;
          } else {
            total -= 0.33;
          }
        }
      }

      const resultWindow = window.open("", "_blank");
      resultWindow.document.write(`
        <html>
          <head>
            <title>Quiz Result</title>
            <style>
              body { font-family: sans-serif; padding: 20px; }
              h2 { color: #2c3e50; }
              .score { font-size: 24px; font-weight: bold; color: #27ae60; }
              button { padding: 10px 20px; margin-top: 20px; }
            </style>
          </head>
          <body>
            <h2>Quiz Submitted!</h2>
            <p class="score">Your Score: ${Math.max(0, total.toFixed(2))} / 6</p>
            <p>Correct Answers: ${correct}</p>
            <button onclick="window.print()">Print Result</button>
          </body>
        </html>
      `);
      resultWindow.document.close();
    }
  </script>
</body>
</html>
